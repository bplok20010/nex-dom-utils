{"version":3,"file":"jqlite.js","sources":["../src/selector/utils.js","../src/selector/domReady.js","../src/selector/parseHTML.js","../src/matches.js","../src/selector/find.js","../src/offset/getOffset.js","../src/contains.js","../src/util/camelCase.js","../src/util/typeOf.js","../src/css.js","../src/position.js","../src/offset/setOffset.js","../src/offset/index.js","../src/offsetParent.js","../src/classes.js","../src/closest.js","../src/jqLite.js"],"sourcesContent":["\r\nexport const push = Array.prototype.push;\r\nexport const toString = Object.prototype.toString;\r\nexport const hasOwn = Object.prototype.hasOwnProperty;\r\nexport const fnToString = hasOwn.toString;\r\nexport const ObjectFunctionString = fnToString.call( Object );\r\n\r\nexport const getProto = Object.getPrototypeOf;\r\n\r\nconst class2type = {};\r\n\r\neach( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\r\nfunction( i, name ) {\r\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\r\n} );\r\n\r\nexport function toType( obj ) {\r\n\tif ( obj == null ) {\r\n\t\treturn obj + \"\";\r\n\t}\r\n\r\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\r\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\r\n\t\ttypeof obj;\r\n}\r\n\r\nfunction isArrayLike( obj ) {\r\n\t\r\n\tlet length = !!obj && \"length\" in obj && obj.length,\r\n\t\ttype = toType( obj );\r\n\r\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn type === \"array\" || length === 0 ||\r\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\r\n}\r\n\r\nexport function noop(){}\r\n\r\nexport function isWindow( obj ) {\r\n\treturn obj != null && obj === obj.window;\r\n}\r\n\r\nexport function isPlainObject( obj ) {\r\n\tlet proto, Ctor;\r\n\t\r\n\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tproto = getProto( obj );\r\n\r\n\tif ( !proto ) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\r\n\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\r\n}\r\n\r\nexport function isFunction( obj ) {\r\n\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n}\r\n\r\nexport function makeArray( arr, results ) {\r\n\tlet ret = results || [];\r\n\r\n\tif ( arr != null ) {\r\n\t\tif ( isArrayLike( Object( arr ) ) ) {\r\n\t\t\tmerge( ret,\r\n\t\t\t\ttypeof arr === \"string\" ?\r\n\t\t\t\t[ arr ] : arr\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tpush.call( ret, arr );\r\n\t\t}\r\n\t}\r\n\r\n\treturn ret;\r\n}\r\n\r\nexport function merge( first, second ) {\r\n\tlet len = +second.length,\r\n\t\tj = 0,\r\n\t\ti = first.length;\r\n\r\n\tfor ( ; j < len; j++ ) {\r\n\t\tfirst[ i++ ] = second[ j ];\r\n\t}\r\n\r\n\tfirst.length = i;\r\n\r\n\treturn first;\r\n}\r\n\r\nexport function each( obj, callback ) {\r\n\tlet length, i = 0;\r\n\r\n\tif ( isArrayLike( obj ) ) {\r\n\t\tlength = obj.length;\r\n\t\tfor ( ; i < length; i++ ) {\r\n\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tfor ( i in obj ) {\r\n\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn obj;\r\n}\r\n\r\nexport const NODE_TYPE_ELEMENT = 1;\r\nexport const NODE_TYPE_ATTRIBUTE = 2;\r\nexport const NODE_TYPE_TEXT = 3;\r\nexport const NODE_TYPE_COMMENT = 8;\r\nexport const NODE_TYPE_DOCUMENT = 9;\r\nexport const NODE_TYPE_DOCUMENT_FRAGMENT = 11;\r\n\r\nexport function isObject(value) {\r\n  return value !== null && typeof value === 'object';\r\n}\r\n\r\nexport function isUndefined(value) {return typeof value === 'undefined';}\r\n\r\nexport function isDefined(value) {return typeof value !== 'undefined';}\r\n\r\nexport function isString(value) {return typeof value === 'string';}\r\n\r\nexport function lowercase(string) {return isString(string) ? string.toLowerCase() : string;}\r\n","\r\nexport default function domReady(fn){\r\n\tfunction trigger() {\r\n\t\twindow.document.removeEventListener('DOMContentLoaded', trigger);\r\n\t\twindow.removeEventListener('load', trigger);\r\n\t\tfn();\r\n\t}\r\n\t\r\n\t// check if document is already loaded\r\n\tif (window.document.readyState === 'complete') {\r\n\t\twindow.setTimeout(fn);\r\n\t} else {\r\n\t\t// We can not use jqLite since we are not done loading and jQuery could be loaded later.\r\n\t\t\r\n\t\t// Works for modern browsers and IE9\r\n\t\twindow.document.addEventListener('DOMContentLoaded', trigger);\r\n\t\t\r\n\t\t// Fallback to window.onload for others\r\n\t\twindow.addEventListener('load', trigger);\r\n\t}\r\n}","import * as utils from './utils';\r\n\r\nconst SINGLE_TAG_REGEXP = /^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/;\r\nconst HTML_REGEXP = /<|&#?\\w+;/;\r\nconst TAG_NAME_REGEXP = /<([\\w:-]+)/;\r\nconst XHTML_TAG_REGEXP = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi;\r\n\r\nconst wrapMap = {\r\n  'option': [1, '<select multiple=\"multiple\">', '</select>'],\r\n\r\n  'thead': [1, '<table>', '</table>'],\r\n  'col': [2, '<table><colgroup>', '</colgroup></table>'],\r\n  'tr': [2, '<table><tbody>', '</tbody></table>'],\r\n  'td': [3, '<table><tbody><tr>', '</tr></tbody></table>'],\r\n  '_default': [0, '', '']\r\n};\r\n\r\nwrapMap.optgroup = wrapMap.option;\r\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\r\nwrapMap.th = wrapMap.td;\r\n\r\nfunction jqLiteIsTextNode(html) {\r\n\treturn !HTML_REGEXP.test(html);\r\n}\r\n\r\nfunction jqLiteBuildFragment(html, context) {\r\n\tlet tmp, tag, wrap,\r\n\t\t\tfragment = context.createDocumentFragment(),\r\n\t\t\tnodes = [], i;\r\n\r\n\tif (jqLiteIsTextNode(html)) {\r\n\t\t// Convert non-html into a text node\r\n\t\tnodes.push(context.createTextNode(html));\r\n\t} else {\r\n\t\t// Convert html into DOM nodes\r\n\t\ttmp = fragment.appendChild(context.createElement('div'));\r\n\t\ttag = (TAG_NAME_REGEXP.exec(html) || ['', ''])[1].toLowerCase();\r\n\t\twrap = wrapMap[tag] || wrapMap._default;\r\n\t\ttmp.innerHTML = wrap[1] + html.replace(XHTML_TAG_REGEXP, '<$1></$2>') + wrap[2];\r\n\r\n\t\t// Descend through wrappers to the right content\r\n\t\ti = wrap[0];\r\n\t\twhile (i--) {\r\n\t\t\ttmp = tmp.lastChild;\r\n\t\t}\r\n\r\n\t\tnodes = utils.merge(nodes, tmp.childNodes);\r\n\r\n\t\ttmp = fragment.firstChild;\r\n\t\ttmp.textContent = '';\r\n\t}\r\n\r\n\t// Remove wrapper from fragment\r\n\tfragment.textContent = '';\r\n\tfragment.innerHTML = ''; // Clear inner HTML\r\n\tutils.each(nodes, function(i, node) {\r\n\t\tfragment.appendChild(node);\r\n\t});\r\n\r\n\treturn fragment;\r\n}\r\n\r\nexport default function parseHTML(data, context/*, keepScripts*/){\r\n\tif ( typeof data !== \"string\" ) {\r\n\t\treturn [];\r\n\t}\r\n\t\r\n\tcontext = context || window.document;\r\n\tlet parsed;\r\n\t\r\n\tif ((parsed = SINGLE_TAG_REGEXP.exec(data))) {\r\n\t\treturn [context.createElement(parsed[1])];\r\n\t}\r\n\t\r\n\tif ((parsed = jqLiteBuildFragment(data, context))) {\r\n\t\treturn utils.merge( [], parsed.childNodes );\r\n\t}\r\n\t\r\n\treturn [];\r\n}","export default function matches(node, selector){\r\n\tif( node === selector ) return true;\r\n\t\r\n\tconst matches = node.matches \r\n\t\t\t\t\t|| node.matchesSelector \r\n\t\t\t\t\t|| node.msMatchesSelector \r\n\t\t\t\t\t|| node.webkitMatchesSelector\r\n\t\t\t\t\t|| node.mozMatchesSelector;\r\n\tif( matches ) {\r\n\t\treturn matches.call(node, selector);\r\n\t}\r\n\t\r\n\treturn false;\r\n}","import matchesSelector from '../matches';\r\nimport {\r\n\tmerge,\r\n\tNODE_TYPE_ELEMENT,\r\n\tNODE_TYPE_DOCUMENT\r\n} from './utils';\r\n\r\nfunction find( selector, context, results, seed ) {\r\n\tlet elem, nodeType,\r\n\t\ti = 0;\r\n\r\n\tresults = results || [];\r\n\tcontext = context || document;\r\n\r\n\t// Same basic safeguard as Sizzle\r\n\tif ( !selector || typeof selector !== \"string\" ) {\r\n\t\treturn results;\r\n\t}\r\n\r\n\t// Early return if context is not an element or document\r\n\tif ( ( nodeType = context.nodeType ) !== NODE_TYPE_ELEMENT && nodeType !== NODE_TYPE_DOCUMENT ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tif ( seed ) {\r\n\t\twhile ( ( elem = seed[ i++ ] ) ) {\r\n\t\t\tif ( matchesSelector( elem, selector ) ) {\r\n\t\t\t\tresults.push( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tmerge( results, context.querySelectorAll( selector ) );\r\n\t}\r\n\r\n\treturn results;\r\n}\r\n\r\nexport default find;","export default function getOffset(elem){\r\n\tlet rect, win;\r\n\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\r\n\t// Support: IE <=11 only\r\n\t// Running getBoundingClientRect on a\r\n\t// disconnected node in IE throws an error\r\n\tif ( !elem.getClientRects().length ) {\r\n\t\treturn { top: 0, left: 0 };\r\n\t}\r\n\r\n\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\r\n\trect = elem.getBoundingClientRect();\r\n\twin = elem.ownerDocument.defaultView;\r\n\treturn {\r\n\t\ttop: rect.top + win.pageYOffset,\r\n\t\tleft: rect.left + win.pageXOffset\r\n\t};\r\n}","export default function contains(parent, child){\r\n\tif (parent.contains) {\r\n\t\treturn parent.contains(child);\r\n\t} else if (parent.compareDocumentPosition){\r\n\t\treturn parent === child || !!(parent.compareDocumentPosition(child) & 16);\r\n\t} else {\r\n\t\tif (child) do {\r\n\t\t\tif (child === parent) return true;\r\n\t\t} while ((child = child.parentNode));\r\n\t\treturn false;\r\n\t}\t\r\n}\r\n","const rmsPrefix = /^-ms-/,\r\n\trdashAlpha = /-([a-z])/g,\r\n\t// Used by camelCase as callback to replace()\r\n\tfcamelCase = function( all, letter ) {\r\n\t\treturn letter.toUpperCase();\r\n\t};\r\n\t\r\nexport default function camelCase( string ) {\r\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\r\n}","const class2type = {};\r\nconst toString = class2type.toString;\r\n\r\n\"Boolean Number String Function Array Date RegExp Object Error Symbol Set Map NodeList\".split( \" \" ).forEach(name => class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase());\r\n\t\r\nexport default function typeOf( obj ) {\r\n\tif ( obj == null ) {\r\n\t\treturn obj + \"\";\r\n\t}\r\n\r\n\t// Support: Android <=2.3 only (functionish RegExp)\r\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\r\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\r\n\t\ttypeof obj;\r\n}","import contains from './contains';\r\nimport camelCase from './util/camelCase';\r\nimport typeOf from './util/typeOf';\r\n\r\nconst div = document.createElement( \"div\" );\r\n// Finish early in limited (non-browser) environments\r\nlet clearCloneStyle = true;\r\nif ( !div.style ) {\r\n\tdiv.style.backgroundClip = \"content-box\";\r\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\r\n\tclearCloneStyle = div.style.backgroundClip === \"content-box\";\r\n}\r\n\r\nconst cssNumber = {\r\n\t\"animationIterationCount\": true,\r\n\t\"columnCount\": true,\r\n\t\"fillOpacity\": true,\r\n\t\"flexGrow\": true,\r\n\t\"flexShrink\": true,\r\n\t\"fontWeight\": true,\r\n\t\"lineHeight\": true,\r\n\t\"opacity\": true,\r\n\t\"order\": true,\r\n\t\"orphans\": true,\r\n\t\"widows\": true,\r\n\t\"zIndex\": true,\r\n\t\"zoom\": true\r\n};\r\n\r\nexport default function css(elem, name, value){\r\n\tif ( Array.isArray( name ) ) {\r\n\t\tlet i = 0, map = {}, len = name.length;\r\n\r\n\t\tfor ( ; i < len; i++ ) {\r\n\t\t\tmap[ name[ i ] ] = css( elem, name[ i ] );\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\t}\r\n\t\r\n\tif( typeOf(name) === 'object' ) {\r\n\t\t\r\n\t\tfor( let i in name ) {\r\n\t\t\tcss(elem, i, name[i]);\t\r\n\t\t}\r\n\t\t\r\n\t\treturn;\t\r\n\t}\r\n\t\r\n\tlet type;\r\n\t\r\n\tname = camelCase( name );\r\n\t\t\r\n\tif (arguments.length < 3) {\r\n\t\tconst computed = getComputedStyle(elem, null);\r\n\t\tlet ret = computed.getPropertyValue( name ) || computed[name];\r\n\r\n\t\tif ( ret === \"\" && !contains( elem.ownerDocument, elem ) ) {\r\n\t\t\tret = elem.style[name];\r\n\t\t}\r\n\t\t\r\n        return ret !== undefined ?\r\n\t\r\n\t\t\t// Support: IE <=9 - 11 only\r\n\t\t\t// IE returns zIndex value as an integer.\r\n\t\t\tret + \"\" :\r\n\t\t\tret;\r\n    }\r\n\t\r\n\tif ( value !== undefined ) {\r\n\t\ttype = typeof value;\r\n\t\t// Make sure that null and NaN values aren't set (#7116)\r\n\t\tif ( value == null || value !== value ) {\r\n\t\t\treturn;\r\n\t\t}\t\r\n\t\t\r\n\t\t// If a number was passed in, add the unit (except for certain CSS properties)\r\n\t\tif ( type === \"number\" ) {\r\n\t\t\tvalue += ( cssNumber[ name ] ? \"\" : \"px\" );\r\n\t\t}\r\n\t\t\r\n\t\t// background-* props affect original clone's values\r\n\t\tif ( !clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\r\n\t\t\telem.style[ name ] = \"inherit\";\r\n\t\t}\r\n\t\t\r\n\t\telem.style[ name ] = value;\r\n\t}\r\n}","import css from './css';\r\nimport getOffset from './offset/getOffset';\r\n\r\nexport default function position(elem){\r\n\tvar offsetParent, offset, doc,\r\n\t\tparentOffset = { top: 0, left: 0 };\r\n\r\n\t// position:fixed elements are offset from the viewport, which itself always has zero offset\r\n\tif ( css( elem, \"position\" ) === \"fixed\" ) {\r\n\r\n\t\t// Assume position:fixed implies availability of getBoundingClientRect\r\n\t\toffset = elem.getBoundingClientRect();\r\n\r\n\t} else {\r\n\t\toffset = getOffset(elem);\r\n\r\n\t\t// Account for the *real* offset parent, which can be the document or its root element\r\n\t\t// when a statically positioned element is identified\r\n\t\tdoc = elem.ownerDocument;\r\n\t\toffsetParent = elem.offsetParent || doc.documentElement;\r\n\t\twhile ( offsetParent &&\r\n\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\r\n\t\t\tcss( offsetParent, \"position\" ) === \"static\" ) {\r\n\r\n\t\t\toffsetParent = offsetParent.parentNode;\r\n\t\t}\r\n\t\t\r\n\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\r\n\r\n\t\t\t// Incorporate borders into its offset, since they are outside its content origin\r\n\t\t\tparentOffset = getOffset( offsetParent );\r\n\t\t\tparentOffset.top += parseFloat(css( offsetParent, \"borderTopWidth\" )) || 0;\r\n\t\t\tparentOffset.left += parseFloat(css( offsetParent, \"borderLeftWidth\" )) || 0;\r\n\t\t}\r\n\t}\r\n\r\n\t// Subtract parent offsets and element margins\r\n\treturn {\r\n\t\ttop: offset.top - parentOffset.top - (parseFloat(css( elem, \"marginTop\" )) || 0),\r\n\t\tleft: offset.left - parentOffset.left - (parseFloat(css( elem, \"marginLeft\" )) || 0)\r\n\t};\r\n}","import css from '../css';\r\nimport offset from './getOffset';\r\nimport position from '../position';\r\n\r\nexport default function setOffset(elem, options){\r\n\tlet curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\r\n\t\tpositionState = css( elem, \"position\" ),\r\n\t\tcurElem = elem,\r\n\t\tprops = {};\r\n\r\n\t// Set position first, in-case top/left are set even on static elem\r\n\tif ( positionState === \"static\" ) {\r\n\t\telem.style.position = \"relative\";\r\n\t}\r\n\r\n\tcurOffset = offset(curElem);\r\n\tcurCSSTop = css( elem, \"top\" );\r\n\tcurCSSLeft = css( elem, \"left\" );\r\n\tcalculatePosition = ( positionState === \"absolute\" || positionState === \"fixed\" ) &&\r\n\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\r\n\r\n\t// Need to be able to calculate position if either\r\n\t// top or left is auto and position is either absolute or fixed\r\n\tif ( calculatePosition ) {\r\n\t\tcurPosition = position(curElem);\r\n\t\tcurTop = curPosition.top;\r\n\t\tcurLeft = curPosition.left;\r\n\r\n\t} else {\r\n\t\tcurTop = parseFloat( curCSSTop ) || 0;\r\n\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\r\n\t}\r\n\r\n\tif ( options.top != null ) {\r\n\t\tprops.top = ( options.top - curOffset.top ) + curTop;\r\n\t}\r\n\tif ( options.left != null ) {\r\n\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\r\n\t}\r\n\r\n\tif ( \"using\" in options ) {\r\n\t\toptions.using.call( elem, props );\r\n\r\n\t} else {\r\n\t\tcss( curElem, props );\r\n\t}\t\r\n}","import getOffset from './getOffset';\r\nimport setOffset from './setOffset';\r\n\r\nexport default function offset(elem, options){\r\n\tif( arguments.length < 2 ) {\r\n\t\treturn getOffset(elem);\r\n\t} else {\r\n\t\tsetOffset(elem, options);\t\r\n\t}\r\n}","import css from './css';\r\n\r\nexport default function offsetParent(elem) {\r\n  let doc = elem.ownerDocument\r\n    , offsetParent = elem && elem.offsetParent;\r\n\r\n\twhile (offsetParent && css(offsetParent, 'position') === 'static' ) {\r\n\t\toffsetParent = offsetParent.offsetParent;\r\n\t}\r\n\r\n\treturn offsetParent || doc.documentElement;\r\n}\r\n","export function hasClass(element, className) {\r\n\tif ( element.classList)\r\n\t\treturn !!className && element.classList.contains(className)\r\n\telse\r\n\t\treturn ` ${element.className.baseVal || element.className} `.indexOf(` ${className} `) !== -1\r\n}\r\n\r\nexport function addClass(element, className){\r\n\tif ( element.classList)\r\n\t\telement.classList.add(className)\r\n\telse if ( !hasClass(element, className))\r\n\t\tif (typeof element.className === 'string')\r\n\t\t\telement.className = element.className + ' ' + className\r\n\t\telse\r\n\t\t\telement.setAttribute('class', (element.className && element.className.baseVal || '') + ' ' + className)\r\n}\r\n\r\nfunction replaceClassName(origClass, classToRemove) {\r\n\treturn origClass.replace(new RegExp('(^|\\\\s)' + classToRemove + '(?:\\\\s|$)', 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\r\n}\r\n\r\nexport function removeClass(element, className){\r\n\tif ( element.classList)\r\n\t\telement.classList.remove(className)\r\n\telse if (typeof element.className === 'string')\r\n\t\telement.className = replaceClassName(element.className, className)\r\n\telse\r\n\t\telement.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className))\r\n}\r\n\r\nexport function toggleClass(element, className){\r\n\tif( hasClass(element, className) )\r\n\t\tremoveClass(element, className)\r\n\telse\r\n\t\taddClass(element, className)\t\r\n}","import matches from './matches';\r\n\r\nfunction _closest(el, s){\r\n\tdo {\r\n\t\tif (matches(el, s)) return el;\r\n\t\tel = el.parentElement;\r\n\t} while (el !== null); \r\n\treturn null;\r\n}\r\n\r\nexport default function closest(node, selector){\r\n\tif( node.closest && typeof selector === 'string') {\r\n\t\treturn node.closest(selector);\t\r\n\t} else {\r\n\t\treturn _closest(node, selector);\t\r\n\t}\r\n}","import {\r\n\tpush,\r\n\teach,\r\n\tmerge,\r\n\tlowercase,\r\n\tisDefined,\r\n\tisFunction,\r\n\tisString,\r\n\tmakeArray,\r\n\tisWindow,\r\n\tisUndefined,\r\n\tisObject,\r\n\tNODE_TYPE_DOCUMENT,\r\n\tNODE_TYPE_ATTRIBUTE,\r\n\tNODE_TYPE_TEXT,\r\n\tNODE_TYPE_COMMENT,\r\n} from './selector/utils';\r\n\r\nimport domReady from './selector/domReady';\r\n\r\nimport parseHTML from './selector/parseHTML';\r\nimport find from './selector/find';\r\n\r\nimport offset from './offset';\r\nimport position from './position';\r\nimport offsetParent from './offsetParent';\r\nimport matches from './matches';\r\nimport {\r\n\thasClass,\r\n\taddClass,\r\n\tremoveClass,\r\n\ttoggleClass\t\r\n} from './classes';\r\n\r\nimport closest from './closest';\r\n\r\nimport css from './css';\r\n\r\nconst rquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;\r\nconst BOOLEAN_ATTR = {};\r\neach('multiple,selected,checked,disabled,readOnly,required,open'.split(','), function(i, value) {\r\n\tBOOLEAN_ATTR[lowercase(value)] = value;\r\n});\r\n\r\n//////////////////////////////////////////////\r\nexport default function JQLite(selector, context){\r\n\tif (!(this instanceof JQLite)) {\r\n\t\treturn new JQLite(selector, context);\r\n\t}\r\n\t\r\n\tif (selector instanceof JQLite) {\r\n\t\treturn selector;\r\n\t}\r\n\t\r\n\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\r\n\tif ( !selector ) {\r\n\t\treturn this;\r\n\t}\t\r\n\t\r\n\tlet match, elem;\r\n\t\r\n\tif ( typeof selector === \"string\" ) {\r\n\t\tif ( selector[ 0 ] === \"<\" &&\r\n\t\t\tselector[ selector.length - 1 ] === \">\" &&\r\n\t\t\tselector.length >= 3 ) {\r\n\r\n\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\r\n\t\t\tmatch = [ null, selector, null ];\r\n\r\n\t\t} else {\r\n\t\t\tmatch = rquickExpr.exec( selector );\r\n\t\t}\r\n\r\n\t\t// Match html or make sure no context is specified for #id\r\n\t\tif ( match && ( match[ 1 ] || !context ) ) {\r\n\r\n\t\t\t// HANDLE: $(html) -> $(array)\r\n\t\t\tif ( match[ 1 ] ) {\r\n\t\t\t\tcontext = context instanceof JQLite ? context[ 0 ] : context;\r\n\r\n\t\t\t\t// Option to run scripts is true for back-compat\r\n\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\r\n\t\t\t\tmerge( this, parseHTML(\r\n\t\t\t\t\tmatch[ 1 ],\r\n\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\r\n\t\t\t\t\ttrue\r\n\t\t\t\t) );\r\n\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t// HANDLE: $(#id)\r\n\t\t\t} else {\r\n\t\t\t\telem = document.getElementById( match[ 2 ] );\r\n\r\n\t\t\t\tif ( elem ) {\r\n\r\n\t\t\t\t\t// Inject the element directly into the jQuery object\r\n\t\t\t\t\tthis[ 0 ] = elem;\r\n\t\t\t\t\tthis.length = 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t// HANDLE: $(expr, $(...))\r\n\t\t} else if ( !context ) {\r\n\t\t\treturn find( selector, document, new JQLite() );\r\n\r\n\t\t// HANDLE: $(expr, context)\r\n\t\t// (which is just equivalent to: $(context).find(expr)\r\n\t\t} else {\r\n\t\t\treturn JQLite( context ).find( selector );\r\n\t\t}\r\n\r\n\t// HANDLE: $(DOMElement)\r\n\t} else if ( selector.nodeType ) {\r\n\t\tthis[ 0 ] = selector;\r\n\t\tthis.length = 1;\r\n\t\treturn this;\r\n\r\n\t// HANDLE: $(function)\r\n\t// Shortcut for document ready\r\n\t} else if ( isFunction( selector ) ) {\r\n\t\tdomReady(selector);\r\n\t}\r\n\t\r\n\treturn makeArray( selector, this );\r\n}\r\n\r\nconst JQLitePrototype = JQLite.fn = JQLite.prototype = {\r\n\tready: domReady,\r\n\ttoString: function() {\r\n\t\tconst value = [];\r\n\t\teach(this, function(i, e) { value.push('' + e);});\r\n\t\treturn '[' + value.join(', ') + ']';\r\n\t},\r\n\r\n\teq: function(index) {\r\n\t\treturn (index >= 0) ? JQLite(this[index]) : JQLite(this[this.length + index]);\r\n\t},\r\n\r\n\tlength: 0,\r\n\tpush: push,\r\n\tsort: [].sort,\r\n\tsplice: [].splice,\r\n\t\r\n\tfind: function(selector){\r\n\t\tlet i, ret,\r\n\t\t\tlen = this.length,\r\n\t\t\tself = this;\r\n\t\r\n\t\tret = new JQLite();\r\n\t\r\n\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\tfind( selector, self[ i ], ret );\r\n\t\t}\r\n\t\r\n\t\treturn ret;//len > 1 ? jQuery.uniqueSort( ret ) : ret;\t\r\n\t},\r\n\t\r\n\teach: function(callback){\r\n\t\treturn each(this, callback);\r\n\t}\r\n};\r\n\r\nif ( typeof Symbol === \"function\" ) {\r\n\tlet arr = [];\r\n\tJQLitePrototype[ Symbol.iterator ] = arr[ Symbol.iterator ];\r\n}\r\n\r\nfunction jqLiteWidthOrHeightCreator(type){\r\n\tconst funcName = lowercase(type);\r\n\t\r\n\treturn function(elem, value){\r\n\t\tif( isWindow(elem) ) {\r\n\t\t\treturn elem.document.documentElement[ \"client\" + type ];\t\r\n\t\t}\t\r\n\t\t\r\n\t\tif ( elem.nodeType === NODE_TYPE_DOCUMENT ) {\r\n\t\t\tconst doc = elem.documentElement;\r\n\t\r\n\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\r\n\t\t\t// whichever is greatest\r\n\t\t\treturn Math.max(\r\n\t\t\t\telem.body[ \"scroll\" + type ], doc[ \"scroll\" + type ],\r\n\t\t\t\telem.body[ \"offset\" + type ], doc[ \"offset\" + type ],\r\n\t\t\t\tdoc[ \"client\" + type ]\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\tconst exp1 = type === 'Width' ? 'Left' : 'Top';\r\n\t\tconst exp2 = type === 'Width' ? 'Right' : 'Bottom';\r\n\t\t\r\n\t\t//getter\r\n\t\tif( value === undefined ) {\r\n\t\t\treturn elem.offsetWidth -\r\n\t\t\t\tparseFloat( css(elem, `border${exp1}${type}`) ) -\r\n\t\t\t\tparseFloat( css(elem, `padding${exp1}`) ) -\r\n\t\t\t\tparseFloat( css(elem, `padding${exp2}`) ) -\r\n\t\t\t\tparseFloat( css(elem, `border${exp2}${type}`) );\r\n\t\t//setter\t\t\r\n\t\t} else {\r\n\t\t\tconst isBorderBox = css( elem, \"boxSizing\" ) === \"border-box\";\r\n\t\t\t\r\n\t\t\tconst borderOrPadding = ( \r\n\t\t\t\tparseFloat( css(elem, `border${exp1}${type}`) ) +\r\n\t\t\t\tparseFloat( css(elem, `padding${exp1}`) ) +\r\n\t\t\t\tparseFloat( css(elem, `padding${exp2}`) ) +\r\n\t\t\t\tparseFloat( css(elem, `border${exp2}${type}`) )\r\n\t\t\t);\t\r\n\t\t\t\r\n\t\t\tcss(elem, funcName, !isBorderBox || value === \"\" ? value : (value || 0) - borderOrPadding);\r\n\t\t}\t\r\n\t};\r\n}\r\n\r\nfunction jqLiteAttr(element, name, value){\r\n\tlet ret;\r\n\tconst nodeType = element.nodeType;\r\n\tif (nodeType === NODE_TYPE_TEXT || nodeType === NODE_TYPE_ATTRIBUTE || nodeType === NODE_TYPE_COMMENT ||\r\n\t\t!element.getAttribute) {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tconst lowercasedName = lowercase(name);\r\n\tconst isBooleanAttr = BOOLEAN_ATTR[lowercasedName];\r\n\t\r\n\tif (isDefined(value)) {\r\n\t\t// setter\r\n\t\r\n\t\tif (value === null || (value === false && isBooleanAttr)) {\r\n\t\t\telement.removeAttribute(name);\r\n\t\t} else {\r\n\t\t\telement.setAttribute(name, isBooleanAttr ? lowercasedName : value);\r\n\t\t}\r\n\t} else {\r\n\t\t// getter\r\n\t\r\n\t\tret = element.getAttribute(name);\r\n\t\r\n\t\tif (isBooleanAttr && ret !== null) {\r\n\t\t\tret = lowercasedName;\r\n\t\t}\r\n\t\t// Normalize non-existing attributes to undefined (as jQuery).\r\n\t\treturn ret === null ? undefined : ret;\r\n\t}\r\n}\r\n\r\nfunction jqLiteProp(element, name, value) {\r\n\tif (isDefined(value)) {\r\n\t\telement[name] = value;\r\n\t} else {\r\n\t\treturn element[name];\r\n\t}\r\n}\r\n\r\neach({\r\n\twidth: function(value){\r\n\t\tconst length = this.length;\r\n\t\t\r\n\t\tif( !length ) return value === undefined ? undefined : this;\r\n\t\t\r\n\t\tconst func = jqLiteWidthOrHeightCreator('Width');\r\n\t\t\r\n\t\tif( value === undefined ) {\r\n\t\t\tconst elem = this[0];\r\n\t\t\treturn func(elem);\r\n\t\t} else {\r\n\t\t\tfor( let i = 0; i<length; i++ ) {\r\n\t\t\t\tfunc(this[i], value);\t\r\n\t\t\t}\t\r\n\t\t}\r\n\t\t\r\n\t\treturn this;\r\n\t},\r\n\theight: function(value){\r\n\t\tconst length = this.length;\r\n\t\t\r\n\t\tif( !length ) return value === undefined ? undefined : this;\r\n\t\t\r\n\t\tconst func = jqLiteWidthOrHeightCreator('Height');\r\n\t\t\r\n\t\tif( value === undefined ) {\r\n\t\t\tconst elem = this[0];\r\n\t\t\treturn func(elem);\r\n\t\t} else {\r\n\t\t\tfor( let i = 0; i<length; i++ ) {\r\n\t\t\t\tfunc(this[i], value);\t\r\n\t\t\t}\t\r\n\t\t}\r\n\t\t\r\n\t\treturn this;\r\n\t},\r\n\t\r\n\touterWidth: function(){\r\n\t\tconst length = this.length;\r\n\t\t\r\n\t\tif( !length ) return;\t\r\n\t\t\r\n\t\tconst elem = this[0];\r\n\t\t\r\n\t\tif( isWindow(elem) ) {\r\n\t\t\treturn elem.innerWidth;\t\r\n\t\t}\r\n\t\t\r\n\t\tif( elem.nodeType === NODE_TYPE_DOCUMENT ) return this.width();\r\n\t\t\r\n\t\treturn elem.offsetWidth;\r\n\t},\r\n\t\r\n\touterHeight: function(){\r\n\t\tconst length = this.length;\r\n\t\t\r\n\t\tif( !length ) return;\t\r\n\t\t\r\n\t\tconst elem = this[0];\r\n\t\t\r\n\t\tif( isWindow(elem) ) {\r\n\t\t\treturn elem.innerHeight;\t\r\n\t\t}\r\n\t\t\r\n\t\tif( elem.nodeType === NODE_TYPE_DOCUMENT ) return this.height();\r\n\t\t\r\n\t\treturn elem.offsetHeight;\t\r\n\t},\r\n\t\r\n\toffset: function(coordinates){\r\n\t\tif( coordinates ) {\r\n\t\t\treturn this.each(function(i, elem){\r\n\t\t\t\toffset( elem, coordinates )\t\r\n\t\t\t});\t\r\n\t\t}\r\n\t\t\r\n\t\tif( !this.length ) return;\r\n\t\t\r\n\t\treturn offset(this[0]);\r\n\t},\r\n\t\r\n\tposition: function(){\r\n\t\tif( !this.length ) return;\r\n\t\t\r\n\t\treturn position(this[0]);\r\n\t},\r\n\t\r\n\tcss: function(key, value){\r\n\t\tif( value !== undefined ) {\r\n\t\t\treturn this.each(function(i, elem){\r\n\t\t\t\tcss( elem, key, value );\t\r\n\t\t\t})\r\n\t\t} else if( isObject(key) ) {\r\n\t\t\tfor( var k in key ) {\r\n\t\t\t\tthis.css(k, key[k]);\r\n\t\t\t}\t\r\n\t\t\treturn this;\r\n\t\t} else if( this.length ) {\r\n\t\t\treturn css(this[0], key);\t\r\n\t\t}\r\n\t},\r\n\t\r\n\tattr: function(key, value){\r\n\t\tif( value !== undefined ) {\r\n\t\t\treturn this.each(function(i, elem){\r\n\t\t\t\tjqLiteAttr( elem, key, value );\t\r\n\t\t\t})\r\n\t\t} else if( isObject(key) ) {\r\n\t\t\tfor( let k in key ) {\r\n\t\t\t\tthis.attr(k, key[k]);\r\n\t\t\t}\t\r\n\t\t\treturn this;\r\n\t\t} else if( this.length ) {\r\n\t\t\treturn jqLiteAttr(this[0], key);\t\r\n\t\t}\r\n\t},\r\n\t\r\n\tremoveAttr: function(name){\r\n\t\treturn this.each( function(i, elem){\r\n\t\t\telem.removeAttribute(name);\r\n\t\t} )\t\r\n\t},\r\n\t\r\n\tprop: function(key, value){\r\n\t\tif( value !== undefined ) {\r\n\t\t\treturn this.each(function(i, elem){\r\n\t\t\t\tjqLiteProp( elem, key, value );\t\r\n\t\t\t})\r\n\t\t} else if( this.length ) {\r\n\t\t\treturn jqLiteProp( this[0], key, value );\t\t\r\n\t\t}\t\r\n\t},\r\n\t\r\n\tfilter: function(selector){\r\n\t\tlet elems = new JQLite(), elem, i, len;\r\n\t\t\r\n\t\tif( isFunction(selector) ) {\r\n\t\t\tfor( i = 0, len = this.length; i < len ; i++ ) {\r\n\t\t\t\telem = this[i];\r\n\t\t\t\tif( selector.call(elem, i, elem) ) {\r\n\t\t\t\t\telems.push(elem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if( isString(selector) ) {\r\n\t\t\tfor( i = 0, len = this.length, elem; i < len ; i++ ) {\r\n\t\t\t\telem = this[i];\r\n\t\t\t\tif( matches(elem, selector) ) {\r\n\t\t\t\t\telems.push(elem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn elems;\t\r\n\t},\r\n\t\r\n\tclosest: function(selector){\r\n\t\tconst nodes = [];\r\n\t\t\r\n\t\tthis.each(function(i, elem){\r\n\t\t\tconst node = closest(elem, selector);\r\n\t\t\tif( node ) nodes.push(node);\t\r\n\t\t});\r\n\t\t\r\n\t\treturn new JQLite(nodes);\t\r\n\t},\r\n\t\r\n\toffsetParent: function(){\r\n\t\tif( this.length ) return offsetParent(this[0]);\t\r\n\t},\r\n\t\r\n\thasClass: function(className){\r\n\t\tfor( let i = 0, n = this.length; i < n ; i++ ) {\r\n\t\t\tif( hasClass(this[i], className) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\t\r\n\t},\r\n\t\r\n\taddClass: function(className){\r\n\t\tif( !className ) return this;\r\n\t\treturn this.each( function(i, elem){\r\n\t\t\tclassName.split(/\\s+/).forEach( name => addClass( elem, name ) );\t\r\n\t\t} );\r\n\t},\r\n\t\r\n\tremoveClass: function(className){\r\n\t\tif( !className ) return this;\t\r\n\t\treturn this.each( function(i, elem){\r\n\t\t\tclassName.split(/\\s+/).forEach( name => removeClass( elem, name ) );\t\r\n\t\t} );\r\n\t},\r\n\t\r\n\ttoggleClass: function(className){\r\n\t\tif( !className ) return this;\r\n\t\treturn this.each( function(i, elem){\r\n\t\t\tclassName.split(/\\s+/).forEach( name => toggleClass( elem, name ) );\t\r\n\t\t} );\t\t\r\n\t}\r\n\t\r\n}, function(name, func){\r\n\t/**\r\n     * Properties: writes return selection, reads return first value\r\n     */\r\n\tJQLitePrototype[name] = func;\r\n});\r\n\r\n"],"names":["push","Array","prototype","toString","Object","hasOwn","hasOwnProperty","fnToString","ObjectFunctionString","call","class2type","each","split","i","name","toLowerCase","toType","obj","isArrayLike","length","type","isFunction","isWindow","window","nodeType","makeArray","arr","results","ret","merge","first","second","len","j","callback","NODE_TYPE_ELEMENT","NODE_TYPE_ATTRIBUTE","NODE_TYPE_TEXT","NODE_TYPE_COMMENT","NODE_TYPE_DOCUMENT","isObject","value","isDefined","isString","lowercase","string","domReady","fn","trigger","document","removeEventListener","readyState","setTimeout","addEventListener","SINGLE_TAG_REGEXP","HTML_REGEXP","TAG_NAME_REGEXP","XHTML_TAG_REGEXP","wrapMap","optgroup","option","tbody","tfoot","colgroup","caption","thead","th","td","jqLiteIsTextNode","html","test","jqLiteBuildFragment","context","tmp","tag","wrap","fragment","createDocumentFragment","nodes","createTextNode","appendChild","createElement","exec","_default","innerHTML","replace","lastChild","utils","childNodes","firstChild","textContent","node","parseHTML","data","parsed","matches","selector","matchesSelector","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","find","seed","elem","querySelectorAll","getOffset","rect","win","getClientRects","top","left","getBoundingClientRect","ownerDocument","defaultView","pageYOffset","pageXOffset","contains","parent","child","compareDocumentPosition","parentNode","rmsPrefix","rdashAlpha","fcamelCase","all","letter","toUpperCase","camelCase","forEach","typeOf","div","clearCloneStyle","style","backgroundClip","cloneNode","cssNumber","css","isArray","map","arguments","computed","getComputedStyle","getPropertyValue","undefined","indexOf","position","offsetParent","offset","doc","parentOffset","documentElement","body","parseFloat","setOffset","options","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","positionState","curElem","props","using","hasClass","element","className","classList","baseVal","addClass","add","setAttribute","replaceClassName","origClass","classToRemove","RegExp","removeClass","remove","toggleClass","_closest","el","s","parentElement","closest","rquickExpr","BOOLEAN_ATTR","JQLite","match","getElementById","JQLitePrototype","e","join","index","sort","splice","self","Symbol","iterator","jqLiteWidthOrHeightCreator","funcName","Math","max","exp1","exp2","offsetWidth","isBorderBox","borderOrPadding","jqLiteAttr","getAttribute","lowercasedName","isBooleanAttr","removeAttribute","jqLiteProp","func","innerWidth","width","innerHeight","height","offsetHeight","coordinates","key","k","attr","elems","n"],"mappings":"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"}